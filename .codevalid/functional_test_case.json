{
  "function": [
    {
      "implementation_id": "service_create_task_taskservice",
      "test_cases": [
        {
          "description": "Verify that a task is created successfully when all required and optional fields are provided with valid values.",
          "id": "create_task_valid_all_fields",
          "implementation_id": "service_create_task_taskservice",
          "name": "Create task with all valid fields",
          "test_setup": {
            "given": {
              "request_body_json": {
                "description": "Milk, Bread, Eggs",
                "due_date": "2024-07-01",
                "priority": "high",
                "tag": "shopping",
                "title": "Buy groceries",
                "user_name": "alice"
              }
            },
            "then": {
              "logs": [
                "Creating task for user: alice"
              ],
              "repository_call": {
                "method": "add_task",
                "params": {
                  "description": "Milk, Bread, Eggs",
                  "due_date": "2024-07-01",
                  "priority": "high",
                  "tag": "shopping",
                  "title": "Buy groceries",
                  "user_name": "alice"
                }
              },
              "response_body_json": {
                "description": "Milk, Bread, Eggs",
                "due_date": "2024-07-01",
                "id": "generated_task_id",
                "priority": "high",
                "tag": "shopping",
                "title": "Buy groceries",
                "user_name": "alice"
              }
            },
            "when": "TaskService.create_task is called with the above data"
          },
          "type": "positive"
        },
        {
          "description": "Verify that a task can be created when the optional tag field is omitted.",
          "id": "create_task_missing_optional_tag",
          "implementation_id": "service_create_task_taskservice",
          "name": "Create task without tag field",
          "test_setup": {
            "given": {
              "request_body_json": {
                "description": "Discuss project timeline",
                "due_date": "2024-07-10",
                "priority": "medium",
                "title": "Call Bob",
                "user_name": "bob"
              }
            },
            "then": {
              "logs": [
                "Creating task for user: bob"
              ],
              "repository_call": {
                "method": "add_task",
                "params": {
                  "description": "Discuss project timeline",
                  "due_date": "2024-07-10",
                  "priority": "medium",
                  "tag": null,
                  "title": "Call Bob",
                  "user_name": "bob"
                }
              },
              "response_body_json": {
                "description": "Discuss project timeline",
                "due_date": "2024-07-10",
                "id": "generated_task_id",
                "priority": "medium",
                "tag": null,
                "title": "Call Bob",
                "user_name": "bob"
              }
            },
            "when": "TaskService.create_task is called with missing tag"
          },
          "type": "positive"
        },
        {
          "description": "Verify that task creation fails when the required title field is missing.",
          "id": "create_task_missing_required_title",
          "implementation_id": "service_create_task_taskservice",
          "name": "Create task missing required title",
          "test_setup": {
            "given": {
              "request_body_json": {
                "description": "Prepare report",
                "due_date": "2024-06-30",
                "priority": "low",
                "tag": "work",
                "user_name": "carol"
              }
            },
            "then": {
              "logs": [
                "Creating task for user: carol"
              ],
              "repository_call": null,
              "response_body_json": {
                "error": "Missing required field: title"
              }
            },
            "when": "TaskService.create_task is called with missing title"
          },
          "type": "negative"
        },
        {
          "description": "Verify that task creation fails when priority value is not one of the allowed values.",
          "id": "create_task_invalid_priority_value",
          "implementation_id": "service_create_task_taskservice",
          "name": "Create task with invalid priority value",
          "test_setup": {
            "given": {
              "request_body_json": {
                "description": "Weekend clothes",
                "due_date": "2024-07-05",
                "priority": "urgent",
                "tag": "home",
                "title": "Do laundry",
                "user_name": "dave"
              }
            },
            "then": {
              "logs": [
                "Creating task for user: dave"
              ],
              "repository_call": null,
              "response_body_json": {
                "error": "Invalid priority value: urgent"
              }
            },
            "when": "TaskService.create_task is called with invalid priority"
          },
          "type": "negative"
        },
        {
          "description": "Verify that task creation fails when the title field is empty.",
          "id": "create_task_empty_title",
          "implementation_id": "service_create_task_taskservice",
          "name": "Create task with empty title",
          "test_setup": {
            "given": {
              "request_body_json": {
                "description": "Weekly planning",
                "due_date": "2024-07-07",
                "priority": "medium",
                "tag": "planning",
                "title": "",
                "user_name": "eve"
              }
            },
            "then": {
              "logs": [
                "Creating task for user: eve"
              ],
              "repository_call": null,
              "response_body_json": {
                "error": "Title cannot be empty"
              }
            },
            "when": "TaskService.create_task is called with empty title"
          },
          "type": "negative"
        },
        {
          "description": "Verify that task creation fails when due_date is not in YYYY-MM-DD format.",
          "id": "create_task_invalid_due_date_format",
          "implementation_id": "service_create_task_taskservice",
          "name": "Create task with invalid due date format",
          "test_setup": {
            "given": {
              "request_body_json": {
                "description": "Electricity and water",
                "due_date": "07/01/2024",
                "priority": "high",
                "tag": "finance",
                "title": "Pay bills",
                "user_name": "frank"
              }
            },
            "then": {
              "logs": [
                "Creating task for user: frank"
              ],
              "repository_call": null,
              "response_body_json": {
                "error": "Invalid date format for due_date"
              }
            },
            "when": "TaskService.create_task is called with invalid due_date format"
          },
          "type": "negative"
        },
        {
          "description": "Verify that task creation fails when the user_name field is missing.",
          "id": "create_task_missing_user_name",
          "implementation_id": "service_create_task_taskservice",
          "name": "Create task missing user_name",
          "test_setup": {
            "given": {
              "request_body_json": {
                "description": "Concert",
                "due_date": "2024-07-11",
                "priority": "low",
                "tag": "leisure",
                "title": "Book tickets"
              }
            },
            "then": {
              "logs": [],
              "repository_call": null,
              "response_body_json": {
                "error": "Missing required field: user_name"
              }
            },
            "when": "TaskService.create_task is called with missing user_name"
          },
          "type": "negative"
        },
        {
          "description": "Verify that a task is created successfully when only required fields are provided.",
          "id": "create_task_minimal_fields",
          "implementation_id": "service_create_task_taskservice",
          "name": "Create task with minimal required fields",
          "test_setup": {
            "given": {
              "request_body_json": {
                "due_date": "2024-07-15",
                "priority": "low",
                "title": "Read book",
                "user_name": "george"
              }
            },
            "then": {
              "logs": [
                "Creating task for user: george"
              ],
              "repository_call": {
                "method": "add_task",
                "params": {
                  "description": null,
                  "due_date": "2024-07-15",
                  "priority": "low",
                  "tag": null,
                  "title": "Read book",
                  "user_name": "george"
                }
              },
              "response_body_json": {
                "description": null,
                "due_date": "2024-07-15",
                "id": "generated_task_id",
                "priority": "low",
                "tag": null,
                "title": "Read book",
                "user_name": "george"
              }
            },
            "when": "TaskService.create_task is called with only required fields"
          },
          "type": "positive"
        },
        {
          "description": "Verify that a task is created successfully when title and description are at their maximum allowed length.",
          "id": "create_task_long_title_and_description",
          "implementation_id": "service_create_task_taskservice",
          "name": "Create task with long title and description",
          "test_setup": {
            "given": {
              "request_body_json": {
                "description": "T.repeat(1024)",
                "due_date": "2024-07-21",
                "priority": "medium",
                "tag": "study",
                "title": "T.repeat(255)",
                "user_name": "harry"
              }
            },
            "then": {
              "logs": [
                "Creating task for user: harry"
              ],
              "repository_call": {
                "method": "add_task",
                "params": {
                  "description": "T.repeat(1024)",
                  "due_date": "2024-07-21",
                  "priority": "medium",
                  "tag": "study",
                  "title": "T.repeat(255)",
                  "user_name": "harry"
                }
              },
              "response_body_json": {
                "description": "T.repeat(1024)",
                "due_date": "2024-07-21",
                "id": "generated_task_id",
                "priority": "medium",
                "tag": "study",
                "title": "T.repeat(255)",
                "user_name": "harry"
              }
            },
            "when": "TaskService.create_task is called with long title and description"
          },
          "type": "edge"
        },
        {
          "description": "Verify that a task is created successfully when description is empty.",
          "id": "create_task_empty_description",
          "implementation_id": "service_create_task_taskservice",
          "name": "Create task with empty description",
          "test_setup": {
            "given": {
              "request_body_json": {
                "description": "",
                "due_date": "2024-07-12",
                "priority": "low",
                "tag": "misc",
                "title": "Task with empty desc",
                "user_name": "ian"
              }
            },
            "then": {
              "logs": [
                "Creating task for user: ian"
              ],
              "repository_call": {
                "method": "add_task",
                "params": {
                  "description": "",
                  "due_date": "2024-07-12",
                  "priority": "low",
                  "tag": "misc",
                  "title": "Task with empty desc",
                  "user_name": "ian"
                }
              },
              "response_body_json": {
                "description": "",
                "due_date": "2024-07-12",
                "id": "generated_task_id",
                "priority": "low",
                "tag": "misc",
                "title": "Task with empty desc",
                "user_name": "ian"
              }
            },
            "when": "TaskService.create_task is called with empty description"
          },
          "type": "edge"
        },
        {
          "description": "Verify that task creation is allowed when due_date is in the past.",
          "id": "create_task_due_date_in_past",
          "implementation_id": "service_create_task_taskservice",
          "name": "Create task with due_date in the past",
          "test_setup": {
            "given": {
              "request_body_json": {
                "description": "Should allow past dates",
                "due_date": "2024-05-01",
                "priority": "medium",
                "tag": "archive",
                "title": "Past task",
                "user_name": "jack"
              }
            },
            "then": {
              "logs": [
                "Creating task for user: jack"
              ],
              "repository_call": {
                "method": "add_task",
                "params": {
                  "description": "Should allow past dates",
                  "due_date": "2024-05-01",
                  "priority": "medium",
                  "tag": "archive",
                  "title": "Past task",
                  "user_name": "jack"
                }
              },
              "response_body_json": {
                "description": "Should allow past dates",
                "due_date": "2024-05-01",
                "id": "generated_task_id",
                "priority": "medium",
                "tag": "archive",
                "title": "Past task",
                "user_name": "jack"
              }
            },
            "when": "TaskService.create_task is called with due_date in the past"
          },
          "type": "edge"
        },
        {
          "description": "Verify that task creation fails when required fields are provided as null.",
          "id": "create_task_null_fields",
          "implementation_id": "service_create_task_taskservice",
          "name": "Create task with null fields",
          "test_setup": {
            "given": {
              "request_body_json": {
                "description": null,
                "due_date": null,
                "priority": null,
                "tag": null,
                "title": null,
                "user_name": null
              }
            },
            "then": {
              "logs": [],
              "repository_call": null,
              "response_body_json": {
                "error": "Missing required field(s): title, priority, due_date, user_name"
              }
            },
            "when": "TaskService.create_task is called with null fields"
          },
          "type": "negative"
        },
        {
          "description": "Verify that task creation fails when tag is not a string.",
          "id": "create_task_invalid_tag_type",
          "implementation_id": "service_create_task_taskservice",
          "name": "Create task with non-string tag",
          "test_setup": {
            "given": {
              "request_body_json": {
                "description": "Tag should be string",
                "due_date": "2024-07-18",
                "priority": "low",
                "tag": 1234,
                "title": "Task with bad tag type",
                "user_name": "kelly"
              }
            },
            "then": {
              "logs": [
                "Creating task for user: kelly"
              ],
              "repository_call": null,
              "response_body_json": {
                "error": "Tag must be a string"
              }
            },
            "when": "TaskService.create_task is called with tag as integer"
          },
          "type": "negative"
        }
      ]
    },
    {
      "implementation_id": "repository_add_task_taskrepository",
      "test_cases": [
        {
          "description": "Tests creating a task with all supported fields supplied with valid values.",
          "id": "add_task_valid_all_fields",
          "implementation_id": "repository_add_task_taskrepository",
          "name": "Add Task with All Fields Provided",
          "test_setup": {
            "given": {
              "preconditions": "Empty task storage, ID counter at 1",
              "request_body_json": {
                "description": "Milk, Bread, Eggs",
                "due_date": "2024-07-15",
                "priority": "high",
                "tag": "personal",
                "title": "Buy groceries",
                "user_name": "alice"
              }
            },
            "then": {
              "internal_state": {
                "id_counter": 2,
                "tasks": [
                  {
                    "description": "Milk, Bread, Eggs",
                    "due_date": "2024-07-15",
                    "id": 1,
                    "priority": "high",
                    "tag": "personal",
                    "title": "Buy groceries",
                    "user_name": "alice"
                  }
                ]
              },
              "log": "Task created: {task}",
              "response_body_json": {
                "description": "Milk, Bread, Eggs",
                "due_date": "2024-07-15",
                "id": 1,
                "priority": "high",
                "tag": "personal",
                "title": "Buy groceries",
                "user_name": "alice"
              }
            },
            "when": "TaskRepository.add_task(request_body_json) is called"
          },
          "type": "positive"
        },
        {
          "description": "Tests creating a task with only mandatory fields (title), omitting optional fields.",
          "id": "add_task_missing_optional_fields",
          "implementation_id": "repository_add_task_taskrepository",
          "name": "Add Task Missing Optional Fields",
          "test_setup": {
            "given": {
              "preconditions": "Empty task storage, ID counter at 1",
              "request_body_json": {
                "title": "Call Bob"
              }
            },
            "then": {
              "internal_state": {
                "id_counter": 2,
                "tasks": [
                  {
                    "description": null,
                    "due_date": null,
                    "id": 1,
                    "priority": null,
                    "tag": null,
                    "title": "Call Bob",
                    "user_name": null
                  }
                ]
              },
              "log": "Task created: {task}",
              "response_body_json": {
                "description": null,
                "due_date": null,
                "id": 1,
                "priority": null,
                "tag": null,
                "title": "Call Bob",
                "user_name": null
              }
            },
            "when": "TaskRepository.add_task(request_body_json) is called"
          },
          "type": "positive"
        },
        {
          "description": "Tests creation of a task with empty string values for non-required fields.",
          "id": "add_task_empty_string_fields",
          "implementation_id": "repository_add_task_taskrepository",
          "name": "Add Task with Empty String Fields",
          "test_setup": {
            "given": {
              "preconditions": "Empty task storage, ID counter at 1",
              "request_body_json": {
                "description": "",
                "due_date": "",
                "priority": "",
                "tag": "",
                "title": "",
                "user_name": ""
              }
            },
            "then": {
              "internal_state": {
                "id_counter": 2,
                "tasks": [
                  {
                    "description": "",
                    "due_date": "",
                    "id": 1,
                    "priority": "",
                    "tag": "",
                    "title": "",
                    "user_name": ""
                  }
                ]
              },
              "log": "Task created: {task}",
              "response_body_json": {
                "description": "",
                "due_date": "",
                "id": 1,
                "priority": "",
                "tag": "",
                "title": "",
                "user_name": ""
              }
            },
            "when": "TaskRepository.add_task(request_body_json) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests creation with an invalid priority value (not 'high', 'medium', 'low').",
          "id": "add_task_invalid_priority_value",
          "implementation_id": "repository_add_task_taskrepository",
          "name": "Add Task with Invalid Priority Value",
          "test_setup": {
            "given": {
              "preconditions": "Empty task storage, ID counter at 1",
              "request_body_json": {
                "priority": "urgent",
                "title": "Feed cat"
              }
            },
            "then": {
              "internal_state": {
                "id_counter": 2,
                "tasks": [
                  {
                    "description": null,
                    "due_date": null,
                    "id": 1,
                    "priority": "urgent",
                    "tag": null,
                    "title": "Feed cat",
                    "user_name": null
                  }
                ]
              },
              "log": "Task created: {task}",
              "response_body_json": {
                "description": null,
                "due_date": null,
                "id": 1,
                "priority": "urgent",
                "tag": null,
                "title": "Feed cat",
                "user_name": null
              }
            },
            "when": "TaskRepository.add_task(request_body_json) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests creation with an invalid due date format.",
          "id": "add_task_invalid_due_date_format",
          "implementation_id": "repository_add_task_taskrepository",
          "name": "Add Task with Invalid Due Date Format",
          "test_setup": {
            "given": {
              "preconditions": "Empty task storage, ID counter at 1",
              "request_body_json": {
                "due_date": "15-07-2024",
                "title": "Complete report"
              }
            },
            "then": {
              "internal_state": {
                "id_counter": 2,
                "tasks": [
                  {
                    "description": null,
                    "due_date": "15-07-2024",
                    "id": 1,
                    "priority": null,
                    "tag": null,
                    "title": "Complete report",
                    "user_name": null
                  }
                ]
              },
              "log": "Task created: {task}",
              "response_body_json": {
                "description": null,
                "due_date": "15-07-2024",
                "id": 1,
                "priority": null,
                "tag": null,
                "title": "Complete report",
                "user_name": null
              }
            },
            "when": "TaskRepository.add_task(request_body_json) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests adding multiple tasks with same title to check if ID assignment is unique.",
          "id": "add_task_duplicate_title",
          "implementation_id": "repository_add_task_taskrepository",
          "name": "Add Task with Duplicate Title",
          "test_setup": {
            "given": {
              "preconditions": "Empty task storage, ID counter at 1",
              "request_body_json_1": {
                "description": "1984 by George Orwell",
                "title": "Read book"
              },
              "request_body_json_2": {
                "description": "Brave New World",
                "title": "Read book"
              }
            },
            "then": {
              "internal_state": {
                "id_counter": 3,
                "tasks": [
                  {
                    "description": "1984 by George Orwell",
                    "due_date": null,
                    "id": 1,
                    "priority": null,
                    "tag": null,
                    "title": "Read book",
                    "user_name": null
                  },
                  {
                    "description": "Brave New World",
                    "due_date": null,
                    "id": 2,
                    "priority": null,
                    "tag": null,
                    "title": "Read book",
                    "user_name": null
                  }
                ]
              },
              "log": "Task created: {task}",
              "response_body_json_1": {
                "description": "1984 by George Orwell",
                "due_date": null,
                "id": 1,
                "priority": null,
                "tag": null,
                "title": "Read book",
                "user_name": null
              },
              "response_body_json_2": {
                "description": "Brave New World",
                "due_date": null,
                "id": 2,
                "priority": null,
                "tag": null,
                "title": "Read book",
                "user_name": null
              }
            },
            "when": "TaskRepository.add_task(request_body_json_1) is called, then TaskRepository.add_task(request_body_json_2) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests behavior when required field 'title' is missing from input.",
          "id": "add_task_missing_title",
          "implementation_id": "repository_add_task_taskrepository",
          "name": "Add Task Missing Title Field",
          "test_setup": {
            "given": {
              "preconditions": "Empty task storage, ID counter at 1",
              "request_body_json": {
                "description": "Laundry",
                "priority": "low"
              }
            },
            "then": {
              "error": "Missing required field: title"
            },
            "when": "TaskRepository.add_task(request_body_json) is called"
          },
          "type": "negative"
        },
        {
          "description": "Tests creation with non-string values for string fields (e.g., integer for title).",
          "id": "add_task_non_string_fields",
          "implementation_id": "repository_add_task_taskrepository",
          "name": "Add Task with Non-string Field Values",
          "test_setup": {
            "given": {
              "preconditions": "Empty task storage, ID counter at 1",
              "request_body_json": {
                "description": [
                  "list",
                  "of",
                  "descriptions"
                ],
                "due_date": null,
                "priority": true,
                "tag": {
                  "topic": "work"
                },
                "title": 123,
                "user_name": 456
              }
            },
            "then": {
              "internal_state": {
                "id_counter": 2,
                "tasks": [
                  {
                    "description": [
                      "list",
                      "of",
                      "descriptions"
                    ],
                    "due_date": null,
                    "id": 1,
                    "priority": true,
                    "tag": {
                      "topic": "work"
                    },
                    "title": 123,
                    "user_name": 456
                  }
                ]
              },
              "log": "Task created: {task}",
              "response_body_json": {
                "description": [
                  "list",
                  "of",
                  "descriptions"
                ],
                "due_date": null,
                "id": 1,
                "priority": true,
                "tag": {
                  "topic": "work"
                },
                "title": 123,
                "user_name": 456
              }
            },
            "when": "TaskRepository.add_task(request_body_json) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests creation with very large string values for fields to check boundary handling.",
          "id": "add_task_large_input_fields",
          "implementation_id": "repository_add_task_taskrepository",
          "name": "Add Task with Large Input Fields",
          "test_setup": {
            "given": {
              "preconditions": "Empty task storage, ID counter at 1",
              "request_body_json": {
                "description": "D.repeat(1024)",
                "due_date": "2024-12-31",
                "priority": "high",
                "tag": "L.repeat(64)",
                "title": "T.repeat(255)",
                "user_name": "U.repeat(255)"
              }
            },
            "then": {
              "internal_state": {
                "id_counter": 2,
                "tasks": [
                  {
                    "description": "D.repeat(1024)",
                    "due_date": "2024-12-31",
                    "id": 1,
                    "priority": "high",
                    "tag": "L.repeat(64)",
                    "title": "T.repeat(255)",
                    "user_name": "U.repeat(255)"
                  }
                ]
              },
              "log": "Task created: {task}",
              "response_body_json": {
                "description": "D.repeat(1024)",
                "due_date": "2024-12-31",
                "id": 1,
                "priority": "high",
                "tag": "L.repeat(64)",
                "title": "T.repeat(255)",
                "user_name": "U.repeat(255)"
              }
            },
            "when": "TaskRepository.add_task(request_body_json) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests creation with special and unicode characters in fields.",
          "id": "add_task_special_characters",
          "implementation_id": "repository_add_task_taskrepository",
          "name": "Add Task with Special Characters",
          "test_setup": {
            "given": {
              "preconditions": "Empty task storage, ID counter at 1",
              "request_body_json": {
                "description": "Fix bug #123 \ud83d\udea8",
                "due_date": "2024-08-08",
                "priority": "high",
                "tag": "\ud83d\ude80",
                "title": "\u2728 Urgent! \u2728",
                "user_name": "\u674e\u534e"
              }
            },
            "then": {
              "internal_state": {
                "id_counter": 2,
                "tasks": [
                  {
                    "description": "Fix bug #123 \ud83d\udea8",
                    "due_date": "2024-08-08",
                    "id": 1,
                    "priority": "high",
                    "tag": "\ud83d\ude80",
                    "title": "\u2728 Urgent! \u2728",
                    "user_name": "\u674e\u534e"
                  }
                ]
              },
              "log": "Task created: {task}",
              "response_body_json": {
                "description": "Fix bug #123 \ud83d\udea8",
                "due_date": "2024-08-08",
                "id": 1,
                "priority": "high",
                "tag": "\ud83d\ude80",
                "title": "\u2728 Urgent! \u2728",
                "user_name": "\u674e\u534e"
              }
            },
            "when": "TaskRepository.add_task(request_body_json) is called"
          },
          "type": "edge"
        }
      ]
    }
  ],
  "component": [],
  "endpoint": [
    {
      "implementation_id": "endpoint_create_task_post_tasks",
      "test_cases": [
        {
          "description": "Verify that a task is created successfully when all required fields are provided with valid data.",
          "id": "create_task_valid_all_fields",
          "implementation_id": "endpoint_create_task_post_tasks",
          "name": "Create task with all valid fields",
          "request_body_json": {
            "description": "Complete the draft and send for review",
            "due_date": "2024-07-01",
            "priority": 3,
            "tag": "work",
            "title": "Finish project report",
            "user_name": "alice"
          },
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/tasks",
          "response_body_json": {
            "description": "Complete the draft and send for review",
            "due_date": "2024-07-01",
            "id": "auto_generated_id",
            "priority": 3,
            "tag": "work",
            "title": "Finish project report",
            "user_name": "alice"
          },
          "response_status_code": 200,
          "test_setup": {
            "given": "No tasks exist for user 'alice'.",
            "then": "A new task is created and returned with all the provided data.",
            "when": "A POST request with all valid fields is made."
          },
          "type": "positive"
        },
        {
          "description": "Verify that a task can be created when only required fields are provided.",
          "id": "create_task_minimal_required_fields",
          "implementation_id": "endpoint_create_task_post_tasks",
          "name": "Create task with minimal required fields",
          "request_body_json": {
            "description": "",
            "due_date": "2024-06-15",
            "priority": 1,
            "tag": "",
            "title": "Buy groceries",
            "user_name": "bob"
          },
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/tasks",
          "response_body_json": {
            "description": "",
            "due_date": "2024-06-15",
            "id": "auto_generated_id",
            "priority": 1,
            "tag": "",
            "title": "Buy groceries",
            "user_name": "bob"
          },
          "response_status_code": 200,
          "test_setup": {
            "given": "No tasks exist for user 'bob'.",
            "then": "A new task is created with default/empty values for optional fields.",
            "when": "A POST request with only required fields is made."
          },
          "type": "positive"
        },
        {
          "description": "Verify that an error is returned when the 'title' field is missing.",
          "id": "create_task_missing_title",
          "implementation_id": "endpoint_create_task_post_tasks",
          "name": "Create task with missing title",
          "request_body_json": {
            "description": "No title provided",
            "due_date": "2024-06-20",
            "priority": 2,
            "tag": "personal",
            "user_name": "charlie"
          },
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/tasks",
          "response_body_json": {
            "error": "'title' is a required field"
          },
          "response_status_code": 400,
          "test_setup": {
            "given": "No tasks exist for user 'charlie'.",
            "then": "A 400 error is returned indicating the missing 'title'.",
            "when": "A POST request is made without the 'title' field."
          },
          "type": "negative"
        },
        {
          "description": "Verify that an error is returned when 'title' is an empty string.",
          "id": "create_task_empty_title",
          "implementation_id": "endpoint_create_task_post_tasks",
          "name": "Create task with empty string title",
          "request_body_json": {
            "description": "Empty title test",
            "due_date": "2024-06-20",
            "priority": 2,
            "tag": "errand",
            "title": "",
            "user_name": "dave"
          },
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/tasks",
          "response_body_json": {
            "error": "'title' must not be empty"
          },
          "response_status_code": 400,
          "test_setup": {
            "given": "No tasks exist for user 'dave'.",
            "then": "A 400 error is returned indicating 'title' cannot be empty.",
            "when": "A POST request is made with an empty string as 'title'."
          },
          "type": "negative"
        },
        {
          "description": "Verify that an error is returned when 'priority' is not an integer.",
          "id": "create_task_invalid_priority_type",
          "implementation_id": "endpoint_create_task_post_tasks",
          "name": "Create task with priority as string",
          "request_body_json": {
            "description": "Call on Sunday",
            "due_date": "2024-06-16",
            "priority": "high",
            "tag": "family",
            "title": "Call mom",
            "user_name": "eve"
          },
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/tasks",
          "response_body_json": {
            "error": "'priority' must be an integer"
          },
          "response_status_code": 400,
          "test_setup": {
            "given": "No tasks exist for user 'eve'.",
            "then": "A 400 error is returned for invalid 'priority' type.",
            "when": "A POST request is made with 'priority' as a string."
          },
          "type": "negative"
        },
        {
          "description": "Verify that an error is returned when 'priority' is less than the minimum allowed value.",
          "id": "create_task_priority_below_min",
          "implementation_id": "endpoint_create_task_post_tasks",
          "name": "Create task with priority below allowed minimum",
          "request_body_json": {
            "description": "Priority too low",
            "due_date": "2024-06-18",
            "priority": 0,
            "tag": "test",
            "title": "Test minimum priority",
            "user_name": "frank"
          },
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/tasks",
          "response_body_json": {
            "error": "'priority' must be between 1 and 5"
          },
          "response_status_code": 400,
          "test_setup": {
            "given": "No tasks exist for user 'frank'.",
            "then": "A 400 error is returned for out-of-bounds 'priority'.",
            "when": "A POST request is made with 'priority' set to 0."
          },
          "type": "edge"
        },
        {
          "description": "Verify that an error is returned when 'priority' is greater than the maximum allowed value.",
          "id": "create_task_priority_above_max",
          "implementation_id": "endpoint_create_task_post_tasks",
          "name": "Create task with priority above allowed maximum",
          "request_body_json": {
            "description": "Priority too high",
            "due_date": "2024-06-18",
            "priority": 6,
            "tag": "test",
            "title": "Test maximum priority",
            "user_name": "grace"
          },
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/tasks",
          "response_body_json": {
            "error": "'priority' must be between 1 and 5"
          },
          "response_status_code": 400,
          "test_setup": {
            "given": "No tasks exist for user 'grace'.",
            "then": "A 400 error is returned for out-of-bounds 'priority'.",
            "when": "A POST request is made with 'priority' set to 6."
          },
          "type": "edge"
        },
        {
          "description": "Verify that an error is returned when 'due_date' is not in the correct format (YYYY-MM-DD).",
          "id": "create_task_invalid_due_date_format",
          "implementation_id": "endpoint_create_task_post_tasks",
          "name": "Create task with invalid due_date format",
          "request_body_json": {
            "description": "Wrong date format",
            "due_date": "18-06-2024",
            "priority": 3,
            "tag": "test",
            "title": "Test invalid due date",
            "user_name": "hannah"
          },
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/tasks",
          "response_body_json": {
            "error": "'due_date' must be in 'YYYY-MM-DD' format"
          },
          "response_status_code": 400,
          "test_setup": {
            "given": "No tasks exist for user 'hannah'.",
            "then": "A 400 error is returned for invalid 'due_date'.",
            "when": "A POST request is made with 'due_date' in invalid format."
          },
          "type": "negative"
        },
        {
          "description": "Verify that an error is returned when 'due_date' is in the past.",
          "id": "create_task_past_due_date",
          "implementation_id": "endpoint_create_task_post_tasks",
          "name": "Create task with past due_date",
          "request_body_json": {
            "description": "Due date has already passed",
            "due_date": "2020-01-01",
            "priority": 2,
            "tag": "test",
            "title": "Test past due date",
            "user_name": "ian"
          },
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/tasks",
          "response_body_json": {
            "error": "'due_date' cannot be in the past"
          },
          "response_status_code": 400,
          "test_setup": {
            "given": "No tasks exist for user 'ian'.",
            "then": "A 400 error is returned for past 'due_date'.",
            "when": "A POST request is made with a past 'due_date'."
          },
          "type": "edge"
        },
        {
          "description": "Verify that a task can be created when 'title' is at the maximum allowed length.",
          "id": "create_task_long_title",
          "implementation_id": "endpoint_create_task_post_tasks",
          "name": "Create task with maximum allowed title length",
          "request_body_json": {
            "description": "Max length title test",
            "due_date": "2024-06-30",
            "priority": 4,
            "tag": "long",
            "title": "T.repeat(255)",
            "user_name": "jane"
          },
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/tasks",
          "response_body_json": {
            "description": "Max length title test",
            "due_date": "2024-06-30",
            "id": "auto_generated_id",
            "priority": 4,
            "tag": "long",
            "title": "T.repeat(255)",
            "user_name": "jane"
          },
          "response_status_code": 200,
          "test_setup": {
            "given": "No tasks exist for user 'jane'.",
            "then": "A new task is created successfully.",
            "when": "A POST request with a title at the maximum allowed length is made."
          },
          "type": "edge"
        },
        {
          "description": "Verify that an error is returned when 'title' exceeds the maximum allowed length.",
          "id": "create_task_exceed_title_length",
          "implementation_id": "endpoint_create_task_post_tasks",
          "name": "Create task with title exceeding maximum length",
          "request_body_json": {
            "description": "Title too long",
            "due_date": "2024-06-25",
            "priority": 2,
            "tag": "error",
            "title": "T.repeat(256)",
            "user_name": "kate"
          },
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/tasks",
          "response_body_json": {
            "error": "'title' length must not exceed 255 characters"
          },
          "response_status_code": 400,
          "test_setup": {
            "given": "No tasks exist for user 'kate'.",
            "then": "A 400 error is returned for 'title' length.",
            "when": "A POST request with a title exceeding the maximum allowed length is made."
          },
          "type": "edge"
        },
        {
          "description": "Verify that an error is returned when the request body is empty.",
          "id": "create_task_missing_body",
          "implementation_id": "endpoint_create_task_post_tasks",
          "name": "Create task with missing body",
          "request_body_json": {},
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/tasks",
          "response_body_json": {
            "error": "Request body is required"
          },
          "response_status_code": 400,
          "test_setup": {
            "given": "No tasks exist.",
            "then": "A 400 error is returned for missing body.",
            "when": "A POST request is made without a body."
          },
          "type": "negative"
        },
        {
          "description": "Verify that the endpoint ignores or rejects unexpected fields in the payload.",
          "id": "create_task_extra_field",
          "implementation_id": "endpoint_create_task_post_tasks",
          "name": "Create task with extra, unexpected field",
          "request_body_json": {
            "description": "Read a new novel",
            "due_date": "2024-06-22",
            "priority": 2,
            "tag": "leisure",
            "title": "Read book",
            "unexpected_field": "unexpected_value",
            "user_name": "leo"
          },
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/tasks",
          "response_body_json": {
            "error": "Unexpected field 'unexpected_field' in request"
          },
          "response_status_code": 400,
          "test_setup": {
            "given": "No tasks exist for user 'leo'.",
            "then": "A 400 error is returned for unexpected field.",
            "when": "A POST request is made with an extra unexpected field."
          },
          "type": "edge"
        },
        {
          "description": "Verify that the endpoint works without any authentication headers.",
          "id": "create_task_no_auth",
          "implementation_id": "endpoint_create_task_post_tasks",
          "name": "Create task without authentication",
          "request_body_json": {
            "description": "Testing without auth headers",
            "due_date": "2024-06-23",
            "priority": 1,
            "tag": "test",
            "title": "No auth test",
            "user_name": "mike"
          },
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/tasks",
          "response_body_json": {
            "description": "Testing without auth headers",
            "due_date": "2024-06-23",
            "id": "auto_generated_id",
            "priority": 1,
            "tag": "test",
            "title": "No auth test",
            "user_name": "mike"
          },
          "response_status_code": 200,
          "test_setup": {
            "given": "No tasks exist for user 'mike'.",
            "then": "A new task is created successfully.",
            "when": "A POST request is made without any authentication headers."
          },
          "type": "positive"
        },
        {
          "description": "Verify that HTML or script tags in the description are safely accepted or sanitized.",
          "id": "create_task_html_injection",
          "implementation_id": "endpoint_create_task_post_tasks",
          "name": "Create task with HTML/script in description",
          "request_body_json": {
            "description": "<script>alert('x')</script>",
            "due_date": "2024-06-24",
            "priority": 3,
            "tag": "security",
            "title": "HTML injection test",
            "user_name": "nancy"
          },
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/tasks",
          "response_body_json": {
            "description": "<script>alert('x')</script>",
            "due_date": "2024-06-24",
            "id": "auto_generated_id",
            "priority": 3,
            "tag": "security",
            "title": "HTML injection test",
            "user_name": "nancy"
          },
          "response_status_code": 200,
          "test_setup": {
            "given": "No tasks exist for user 'nancy'.",
            "then": "A new task is created and HTML/script is stored as text (unless sanitized).",
            "when": "A POST request is made with HTML/script in the description."
          },
          "type": "edge"
        },
        {
          "description": "Verify that an error is returned when required fields are explicitly set to null.",
          "id": "create_task_null_fields",
          "implementation_id": "endpoint_create_task_post_tasks",
          "name": "Create task with null fields",
          "request_body_json": {
            "description": null,
            "due_date": null,
            "priority": null,
            "tag": null,
            "title": null,
            "user_name": null
          },
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/tasks",
          "response_body_json": {
            "error": "Fields 'title', 'priority', 'due_date', and 'user_name' cannot be null"
          },
          "response_status_code": 400,
          "test_setup": {
            "given": "No tasks exist.",
            "then": "A 400 error is returned for null fields.",
            "when": "A POST request is made with required fields set to null."
          },
          "type": "negative"
        },
        {
          "description": "Verify that an error is returned when required fields are missing, only optional fields provided.",
          "id": "create_task_missing_required_fields",
          "implementation_id": "endpoint_create_task_post_tasks",
          "name": "Create task with only optional fields",
          "request_body_json": {
            "description": "No required fields",
            "tag": "optional"
          },
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/tasks",
          "response_body_json": {
            "error": "Missing required fields: title, priority, due_date, user_name"
          },
          "response_status_code": 400,
          "test_setup": {
            "given": "No tasks exist.",
            "then": "A 400 error is returned for missing required fields.",
            "when": "A POST request is made with only optional fields."
          },
          "type": "negative"
        },
        {
          "description": "Verify that tags with special characters are accepted.",
          "id": "create_task_special_characters_in_tag",
          "implementation_id": "endpoint_create_task_post_tasks",
          "name": "Create task with special characters in tag",
          "request_body_json": {
            "description": "Test special characters in tag",
            "due_date": "2024-06-28",
            "priority": 2,
            "tag": "@urgent#now!",
            "title": "Special tag test",
            "user_name": "oliver"
          },
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/tasks",
          "response_body_json": {
            "description": "Test special characters in tag",
            "due_date": "2024-06-28",
            "id": "auto_generated_id",
            "priority": 2,
            "tag": "@urgent#now!",
            "title": "Special tag test",
            "user_name": "oliver"
          },
          "response_status_code": 200,
          "test_setup": {
            "given": "No tasks exist for user 'oliver'.",
            "then": "A new task is created successfully with the special tag.",
            "when": "A POST request is made with a tag containing special characters."
          },
          "type": "edge"
        }
      ]
    }
  ]
}